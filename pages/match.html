<div class="card">
  <div class="row">
    <div>
      <div class="h1" id="matchTitle">Match</div>
      <div class="muted small" id="matchMeta">-</div>
    </div>
    <a class="chip" id="btnToScorecard" href="#/scorecard">Scorecard</a>
  </div>

  <hr class="sep"/>

  <div id="liveScore"></div>

  <div class="muted small" style="margin-top:10px">
    Viewer mode: Live score auto-refresh होता है. Scoring केवल Admin/Scorer console से होगी।
  </div>

  <hr class="sep"/>

  <div class="h2">Last balls</div>
  <div id="lastBalls" class="badges" style="margin-top:10px"></div>

  <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap">
    <a class="btn" id="btnOpenAdmin" href="admin/index.html">Admin / Scorer Login</a>
    <a class="btn" href="#/home">Back</a>
  </div>
</div>

<script>
  (function(){
    const h = location.hash || "";
    const qIndex = h.indexOf("?");
    const qs = qIndex >= 0 ? h.slice(qIndex+1) : "";
    const usp = new URLSearchParams(qs);
    const mid = usp.get("id") || usp.get("matchId") || "A1";

    const a = document.getElementById("btnToScorecard");
    if(a) a.href = `#/scorecard?id=${encodeURIComponent(mid)}`;

    const adm = document.getElementById("btnOpenAdmin");
    if(adm) adm.href = `admin/index.html?v=${Date.now()}`;
  })();
</script>
